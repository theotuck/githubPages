---
title: 1009
description: HDU OJ 1009 FatMouse's Trade
categories:
- HDU
tags:
- HDU
---

#### HDU OJ 1009 -- FatMouse's Trade

交换原则——贪心。先把最多的换掉（这里指的最多是单价比最高而不是指数量最多）。

我真的不知道我错在哪里= =。。。。边界的样例也算了一些，但是还是WA。明明和AC代码长得一样啊……心塞。

WA代码

```c++
#include <iostream>
#include <algorithm>
using namespace std;

struct node {
	float given, want;
};

node datas[1001];

int cmpxy(node a, node b)
{
	return  (a.given / a.want) > (b.given / b.want);
}

int main()
{
	int m, n;
	while (cin >> m >> n)
	//while(scanf_s("%d%d", &m, &n), m != -1 || n != -1)
	{
		double result = 0.0;
		if (m == -1 && n == -1)
			break;

		for (int i = 0; i < n; i++)
			cin >> datas[i].given >> datas[i].want;
		sort(datas, datas+n, cmpxy);
      
		//int i = 0;
		//for (; m >= datas[i].want && i<n; m -= (int)datas[i].want , i++)
		//	result += datas[i].given;
		//if(i < n)
		//	result += m * datas[i].given / datas[i].want;
		for (int i = 0; i < n; i++)
		{
			if (m >= (int)datas[i].want)
			{
				result += datas[i].given;
				m -= (int)datas[i].want;
			}
			else
			{
				result += m * datas[i].given / datas[i].want;
				break;
			}
		}
		printf_s("%.3lf\n", result);
	}
    return 0;
}
```

别人的AC代码：

```c++
#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
struct node
{
    int J,F;
    double JF;
}bag[1010];
bool cmp(node x,node y)
{
    return x.JF>y.JF;
}
int main()
{
    int m,n,i;
    while(scanf("%d%d",&m,&n),m!=-1||n!=-1)
    {
        //The i-th room contains J[i] pounds of JavaBeans and requires F[i] pounds of cat food
        for(i=0;i<n;i++)
        {
            scanf("%d%d",&bag[i].J,&bag[i].F);
            bag[i].JF = bag[i].J*1.0/bag[i].F;
        }
        //所以这里要是降序排列，因为要用最少的cat food 换取最多的JavaBeans
        sort(bag,bag+n,cmp);
        double sum = 0;
        for(i=0;i<n;i++)
        {
            if(bag[i].F<m)       //如果FatMouse的M大于当前能换取的值，直接换
            {
                sum+=bag[i].J;
                m-=bag[i].F;
            }
            else                 //否则还是按照最大的比列能换多少换多少
            {
                sum+=bag[i].JF*m;
                break;
            }
        }
 
        printf("%.3lf\n",sum);
    }
}

```

无奈。:cold_sweat:

稍等后面再仔细想想吧。调试是个技术活。

{{page.date | date_to_string}}

