---
title: 1006
description: HDU OJ 1000
categories:
- HDU
tags:
- HDU
---

### HDU OJ 1006 -- Tick and Tick

好像一个循环追及问题 -  - 

化曲为直思考一下吧。:blush:

---

重点是如何判断最小夹角，几个指针之间的。

精度很重要。

---

- 角速度的追及问题：

  角速度：秒针 -- 6°/s， 分针 -- 6°/60s，时针 -- 30°/3600s

  追及速度（相对速度）： 求差即可；

  求一圈的时间差：这个地方其实蛮厉害的，我没有想到怎么来算。

  在1006中，将两根针形成的角度差时看成两个：n/sec_hour 和 （360-n)/sec_hour 。**我一直没有琢磨清楚的就是这个追及问题的建模。** 

- 读秒的方式精度不够，出来的结果有问题。时间是连续的，而不是一秒一秒不可分割的。

AC代码：

```c++
#include <cmath>
#include <cstdio>
#include <algorithm>
using namespace std;

//角速度
#define SEC_S 6.0
#define MIN_S 6.0/60.0				
#define HOUR_S 30.0/3600.0		
//相对速度, 相差1°的时间为相对速度的倒数
#define sec_min (SEC_S - MIN_S)
#define sec_hour (SEC_S - HOUR_S)
#define min_hour (MIN_S - HOUR_S)
//相差360°的时间
#define tsecm 360.0/sec_min
#define tsech  360.0/sec_hour
#define tminh	 360.0/min_hour

#define maxd 43200.0

int main()
{
	double D;
	while( scanf_s("%lf", &D) != EOF){
		if (D < 0 )
			break;

		double i, j, k;
		double a[6];
		double p, q, ans=0;

		a[0] = D / sec_hour;
		a[1] = D / sec_min;
		a[2] = D / min_hour;
		a[3] = (360.0 - D) / sec_hour;
		a[4] = (360.0 - D) / sec_min;
		a[5] = (360.0 - D) / min_hour;
		//D*sec_min + k1 * tsecm < time < tsecm - D * sec_min + k1 * tsecm;  //jiaodusm > n
		//D*sec_hour + k2 * tsech < time < tsech - D * sec_hour + k2 * tsech;  //jiaodush > n
		//D*min_hour + k3 * tminh < time < tminh - D * min_hour + k1 * tminh;  //jiaodumh > n

		for (i = 0.0; i <= maxd; i += tsech)
		{
			for (j = 0.0; j <= maxd; j += tsecm)
			{
				if (j + a[1] > i + a[3]) break;	//画个图，就知道这种情况是不符合要求的。
				if (i + a[0] > j + a[4]) continue;  //只算刚巧重合的边界值。
				for (k = 0.0; k <= maxd; k += tminh)
				{
					if (k + a[2] > i + a[3] || k + a[2] > j + a[4])break;
					if (i + a[0] > k + a[5] || j + a[1] > k + a[5]) continue;
					p = max(max(i + a[0], j + a[1]), k + a[2]);  //小的里面取最大，大的里面取最小。包含所有
					q = min(min(i + a[3], j + a[4]), k + a[5]);
					if (q > p)
						ans += q - p;
				}
			}
		}
	
		printf("%.3lf\n", 100.0*ans / maxd);  //输出真的非常严格，我多打了一个空格，就报了presentation error。
	};
	
    return 0;
}
```

:cloud_with_rain: 下雨的北京与我的快递。

[discuss reply](http://acm.hdu.edu.cn/discuss/problem/post/reply.php?action=support&postid=4499&messageid=1&deep=0) 非常不错的一个解释。

站在巨人的肩膀上。

{{page.date | date_to_string}}